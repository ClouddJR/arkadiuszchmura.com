<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>What is the difference between size and viewport size in vector drawables? | Arkadiusz Chmura</title><meta name=keywords content><meta name=description content="It always puzzled me so I decided to find out how are these things different."><meta name=author content><link rel=canonical href=https://arkadiuszchmura.com/posts/what-is-the-difference-between-size-and-viewport-size-in-vector-drawables/><link crossorigin=anonymous href=/assets/css/stylesheet.min.9ba27e3c8c2747e1cde460076c0ca4266a90ef93999b5f361979f681b9f778a6.css integrity="sha256-m6J+PIwnR+HN5GAHbAykJmqQ75OZm182GXn2gbn3eKY=" rel="preload stylesheet" as=style><link rel=icon href=https://arkadiuszchmura.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://arkadiuszchmura.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://arkadiuszchmura.com/favicon-32x32.png><link rel=apple-touch-icon href=https://arkadiuszchmura.com/apple-touch-icon.png><link rel=mask-icon href=https://arkadiuszchmura.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.109.0"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="What is the difference between size and viewport size in vector drawables?"><meta property="og:description" content="It always puzzled me so I decided to find out how are these things different."><meta property="og:type" content="article"><meta property="og:url" content="https://arkadiuszchmura.com/posts/what-is-the-difference-between-size-and-viewport-size-in-vector-drawables/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-08-31T00:00:00+00:00"><meta property="article:modified_time" content="2022-08-31T00:00:00+00:00"><meta property="og:site_name" content="Arkadiusz Chmura"><meta name=twitter:card content="summary"><meta name=twitter:title content="What is the difference between size and viewport size in vector drawables?"><meta name=twitter:description content="It always puzzled me so I decided to find out how are these things different."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://arkadiuszchmura.com/posts/"},{"@type":"ListItem","position":2,"name":"What is the difference between size and viewport size in vector drawables?","item":"https://arkadiuszchmura.com/posts/what-is-the-difference-between-size-and-viewport-size-in-vector-drawables/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"What is the difference between size and viewport size in vector drawables?","name":"What is the difference between size and viewport size in vector drawables?","description":"It always puzzled me so I decided to find out how are these things different.","keywords":[],"articleBody":"Introduction If like me, you have always wondered what is the difference between viewportWidth and width (or viewportHeight and height) in vector drawables and you tend to randomly tweak these attributes until your image looks right, this post is for you.\nI will show you how these attributes differ using a simple example and some visualizations.\nExample To illustrate the difference, I created a simple app with one screen that contains a centered image filling as much content as it needs. Here is the code (in Jetpack Compose):\nclass MainActivity : ComponentActivity() { override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) setContent { AppTheme { Box( modifier = Modifier.fillMaxSize(), contentAlignment = Alignment.Center ) { Image( painter = painterResource(id = R.drawable.rectangle), contentDescription = null ) } } } } } And this is the code for the R.drawable.rectangle drawable:\n\u003c?xml version=\"1.0\" encoding=\"utf-8\"?\u003e ","wordCount":"698","inLanguage":"en","datePublished":"2022-08-31T00:00:00Z","dateModified":"2022-08-31T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://arkadiuszchmura.com/posts/what-is-the-difference-between-size-and-viewport-size-in-vector-drawables/"},"publisher":{"@type":"Organization","name":"Arkadiusz Chmura","logo":{"@type":"ImageObject","url":"https://arkadiuszchmura.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://arkadiuszchmura.com/ accesskey=h title="Arkadiusz Chmura (Alt + H)">Arkadiusz Chmura</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://arkadiuszchmura.com/archive title=Archive><span>Archive</span></a></li><li><a href=https://arkadiuszchmura.com/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://arkadiuszchmura.com/>Home</a>&nbsp;»&nbsp;<a href=https://arkadiuszchmura.com/posts/>Posts</a></div><h1 class=post-title>What is the difference between size and viewport size in vector drawables?</h1><div class=post-meta><span title='2022-08-31 00:00:00 +0000 UTC'>August 31, 2022</span>&nbsp;·&nbsp;4 min</div></header><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>If like me, you have always wondered what is the difference between <code>viewportWidth</code> and <code>width</code> (or <code>viewportHeight</code> and <code>height</code>) in vector drawables and you tend to randomly tweak these attributes until your image looks right, this post is for you.</p><p>I will show you how these attributes differ using a simple example and some visualizations.</p><h2 id=example>Example<a hidden class=anchor aria-hidden=true href=#example>#</a></h2><p>To illustrate the difference, I created a simple app with one screen that contains a centered image filling as much content as it needs. Here is the code (in Jetpack Compose):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>MainActivity</span> : ComponentActivity() {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>override</span> <span style=color:#ff79c6>fun</span> <span style=color:#50fa7b>onCreate</span>(savedInstanceState: Bundle?) {
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>super</span>.onCreate(savedInstanceState)
</span></span><span style=display:flex><span>        setContent {
</span></span><span style=display:flex><span>            AppTheme {
</span></span><span style=display:flex><span>                Box(
</span></span><span style=display:flex><span>                    modifier = <span style=color:#50fa7b>Modifier</span>.fillMaxSize(),
</span></span><span style=display:flex><span>                    contentAlignment = <span style=color:#50fa7b>Alignment</span>.Center
</span></span><span style=display:flex><span>                ) {
</span></span><span style=display:flex><span>                    Image(
</span></span><span style=display:flex><span>                        painter = painterResource(id = <span style=color:#50fa7b>R</span>.drawable.rectangle),
</span></span><span style=display:flex><span>                        contentDescription = <span style=color:#ff79c6>null</span>
</span></span><span style=display:flex><span>                    )
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>And this is the code for the <code>R.drawable.rectangle</code> drawable:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#ff79c6>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>&lt;vector</span> <span style=color:#50fa7b>xmlns:android=</span><span style=color:#f1fa8c>&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#50fa7b>android:width=</span><span style=color:#f1fa8c>&#34;256dp&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#50fa7b>android:height=</span><span style=color:#f1fa8c>&#34;256dp&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#50fa7b>android:viewportWidth=</span><span style=color:#f1fa8c>&#34;36&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#50fa7b>android:viewportHeight=</span><span style=color:#f1fa8c>&#34;36&#34;</span><span style=color:#ff79c6>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&lt;path</span>
</span></span><span style=display:flex><span>        <span style=color:#50fa7b>android:fillColor=</span><span style=color:#f1fa8c>&#34;#FFEB3B&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#50fa7b>android:pathData=</span><span style=color:#f1fa8c>&#34;M0,0 L36,0 L36,36 L0,36 z&#34;</span> <span style=color:#ff79c6>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&lt;path</span>
</span></span><span style=display:flex><span>        <span style=color:#50fa7b>android:fillColor=</span><span style=color:#f1fa8c>&#34;#3F51B5&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#50fa7b>android:pathData=</span><span style=color:#f1fa8c>&#34;M2,2 L34,2 L34,34 L2,34 z&#34;</span> <span style=color:#ff79c6>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>&lt;/vector&gt;</span>
</span></span></code></pre></div><p>If you need a refresher on how to interpret commands like <code>M2,2</code> in <code>pathData</code>, here is a great post on Ray Wenderlich&rsquo;s blog: <a href=https://www.raywenderlich.com/3988300-vector-graphics-on-android>link</a>. But to give you a quick overview:</p><ul><li><code>M2,0</code> means <strong>M</strong>ove to the point at position 2,0 (x,y).</li><li><code>L36,0</code> means draw a <strong>L</strong>ine from the current point to the point at 36,0 (x,y).</li><li><code>z</code> closes the path by drawing a straight line from the current position to the starting point.</li></ul><blockquote><p>Remember that 0,0 position is in the upper left corner. Moving to the right increases the X position and moving down increases the Y position (contrary to what you might be used to).</p></blockquote><p>Both paths in the drawable above define a rectangle. The first path draws a yellow rectangle that covers the entire available space, while the second path draws a slightly smaller blue rectangle on top of the first one.</p><p>This is what the rendered image looks like:</p><figure class=align-center><img loading=lazy src=/viewport/first.png#center width=350></figure><p>As you can see, <code>height</code> and <code>width</code> attributes were both set to &ldquo;256dp&rdquo; and <code>viewportWidth</code>, as well as <code>viewportHeight</code>, to &ldquo;36&rdquo;.</p><p>Notice that <code>height</code> and <code>width</code> values end with &ldquo;dp&rdquo;. It&rsquo;s because they define the <strong>intrinsic</strong> size of the drawable. In simpler words, if you give this drawable to an <code>ImageView</code> that covers as much space as it needs, that <code>ImageView</code> will have the exact same size as the drawable. That&rsquo;s why in the screenshot above, the rendered image has a size of 256dp x 256dp (just like <code>height</code> and <code>width</code> values).</p><p>Conversely, <code>viewportWidth</code> and <code>viewportHeight</code> define the <strong>canvas</strong> size upon which we draw our pixels. All of our commands in <code>pathData</code> use coordinates from this space.</p><p>Let&rsquo;s take a look at the <code>pathData</code> for our blue rectangle:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>android:pathData=&#34;M2,2 L34,2 L34,34 L2,34 z&#34;
</span></span></code></pre></div><p>As you can see, all commands here use points that are contained in a space defined by <code>viewportWidth</code> and <code>viewportHeight</code> (which is 36 x 36).</p><p>Below I marked some of the relevant coordinates:</p><figure class=align-center><img loading=lazy src=/viewport/first-coordinates.png#center width=350></figure><p>Now let&rsquo;s see what happens when I change <code>viewportWidth</code> and <code>viewportHeight</code> to &ldquo;48&rdquo; (and modify the yellow rectangle&rsquo;s <code>pathData</code> to still cover the entire space as in the previous example).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#ff79c6>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>&lt;vector</span> <span style=color:#50fa7b>xmlns:android=</span><span style=color:#f1fa8c>&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#50fa7b>android:width=</span><span style=color:#f1fa8c>&#34;256dp&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#50fa7b>android:height=</span><span style=color:#f1fa8c>&#34;256dp&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#50fa7b>android:viewportWidth=</span><span style=color:#f1fa8c>&#34;48&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#50fa7b>android:viewportHeight=</span><span style=color:#f1fa8c>&#34;48&#34;</span><span style=color:#ff79c6>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&lt;path</span>
</span></span><span style=display:flex><span>        <span style=color:#50fa7b>android:fillColor=</span><span style=color:#f1fa8c>&#34;#FFEB3B&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#50fa7b>android:pathData=</span><span style=color:#f1fa8c>&#34;M0,0 L48,0 L48,48 L0,48 z&#34;</span> <span style=color:#ff79c6>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&lt;path</span>
</span></span><span style=display:flex><span>        <span style=color:#50fa7b>android:fillColor=</span><span style=color:#f1fa8c>&#34;#3F51B5&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#50fa7b>android:pathData=</span><span style=color:#f1fa8c>&#34;M2,2 L34,2 L34,34 L2,34 z&#34;</span> <span style=color:#ff79c6>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>&lt;/vector&gt;</span>
</span></span></code></pre></div><p>Here is the rendered result:</p><figure class=align-center><img loading=lazy src=/viewport/second.png#center width=350></figure><p>The image takes <strong>the same</strong> amount of space on the screen as before, but the blue rectangle is now smaller. This is because the <code>width</code> and <code>height</code> values stayed the same (&ldquo;256dp&rdquo;), but the coordinate space has changed affecting all of our commands responsible for drawing our paths.</p><p>This can be better seen in the below image with highlighted points:</p><figure class=align-center><img loading=lazy src=/viewport/second-coordinates.png#center width=350></figure><h2 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h2><p>To summarize, the difference between size and viewport size is that the former reports its values (<code>width</code> and <code>height</code>) to the outside world, whereas the latter defines an &ldquo;internal&rdquo; space that is the coordinate space of our <code>pathData</code>.</p><p>If you are given a vector drawable (or svg) from a designer, remember not to change <code>viewportWidth</code> and <code>viewportHeight</code> attributes. They define the size of the canvas and all <code>pathData</code> commands use this coordinate space. If you change them, your image might become distorted. Instead, if you want to manipulate the image&rsquo;s size, just use <code>width</code> and <code>height</code>.</p></div><footer class=post-footer><nav class=paginav><a class=prev href=https://arkadiuszchmura.com/posts/how-to-test-intermediate-steps-in-suspending-functions/><span class=title>« Prev Page</span><br><span>How to test intermediate steps in suspending functions</span></a>
<a class=next href=https://arkadiuszchmura.com/posts/how-to-change-system-bar-colors-in-compose/><span class=title>Next Page »</span><br><span>How to change system bar colors using Jetpack Compose</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://arkadiuszchmura.com/>Arkadiusz Chmura</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>